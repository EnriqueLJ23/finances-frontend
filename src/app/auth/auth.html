@if (error()) {
<p class="border rounded-md p-3 mb-4 border-destructive text-destructive">
  {{error()}}
</p>
}

<div class="card w-md">
  <div class="card-header">
    <h3 class="card-title">
      {{ mode() === 'signin' ? 'Sign In' : 'Sign Up' }}
    </h3>
    <p class="card-description">Sign in to see your finances</p>
    <div class="mb-6 flex justify-center bg-muted rounded-md p-1">
      <button
        (click)="switchMode('signin')"
        [class]="mode() === 'signin' 
        ? 'flex-1 bg-primary text-white rounded-l-md p-1' 
        : 'flex-1 bg-background rounded-l-md p-1  hover:bg-muted'"
      >
        Sign In
      </button>
      <button
        (click)="switchMode('signup')"
        [class]="mode() === 'signup' 
        ? 'flex-1 bg-primary text-white rounded-r-md p-1' 
        : 'flex-1 bg-background rounded-r-md p-1 hover:bg-muted'"
      >
        Sign Up
      </button>
    </div>
  </div>
  <div class="card-content">
    <form (ngSubmit)="onSubmit(form)" #form="ngForm">
      <div class="mb-4">
        <label class="block text-foreground">Username</label>
        <input
          name="username"
          ngModel
          placeholder="Suzie Q"
          required
          minlength="4"
          class="placeholder-muted-foreground mt-1 w-full px-4 py-2 border rounded-md bg-transparent border-input focus:outline-none focus:ring-2 focus:ring-ring"
        />
      </div>
      <div class="mb-6">
        <label class="block text-card-foreground">Password</label>
        <input
          type="password"
          name="password"
          ngModel
          required
          minlength="5"
          class="placeholder-muted-foreground mt-1 w-full px-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring"
        />
      </div>
      <button
        type="submit"
        class="w-full bg-primary text-white py-2 rounded-md hover:bg-secondary transition"
      >
        {{ mode() === 'signin' ? 'Sign In' : 'Sign Up' }}
      </button>
    </form>
  </div>
</div>
@if (isLoading()) {
<div>
  <app-loading-spinner />
</div>
}
